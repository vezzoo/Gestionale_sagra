<h2 style="text-align: center" mat-dialog-title>Modifica utente '{{user.username}}'</h2>

<div mat-dialog-content>

    <mat-grid-list cols="4" rowHeight="7vh">

        <mat-grid-tile
            [colspan]="1"
            [rowspan]="1"
            class="text"
        >
            <strong>Nome:</strong>
        </mat-grid-tile>

        <mat-grid-tile
            [colspan]="3"
            [rowspan]="1"
            class="text">

            <mat-form-field>
                <input matInput value="{{user.name}}">
            </mat-form-field>

        </mat-grid-tile>

    </mat-grid-list>

    <mat-grid-list cols="10" rowHeight="4vh">

        <mat-grid-tile
            [colspan]="10"
            [rowspan]="1"
            class="text"
        >
            <strong>Permessi:</strong>
        </mat-grid-tile>

        <mat-grid-tile [colspan]="1" [rowspan]="1"></mat-grid-tile>

        <mat-grid-tile
            [colspan]="2"
            [rowspan]="1"
            class="text"
        >
            root
        </mat-grid-tile>

        <mat-grid-tile
            [colspan]="7"
            [rowspan]="1"
            class="text"
        >

            <mat-radio-group [(ngModel)]="isRoot">
                <mat-radio-button
                    *ngFor="let typeOfPermission of getRootPermissions()"
                    [value]="typeOfPermission"
                    class="radio-button"
                    (change)="onRadioChange($event)"
                >{{typeOfPermission}}</mat-radio-button>
            </mat-radio-group>

        </mat-grid-tile>

        <div *ngFor="let permission of getAllPermissions()">

            <mat-grid-tile [colspan]="1" [rowspan]="1"></mat-grid-tile>

            <mat-grid-tile
                [colspan]="2"
                [rowspan]="1"
                class="text"
            >
                {{permission}}
            </mat-grid-tile>

            <mat-grid-tile
                [colspan]="7"
                [rowspan]="1"
                class="text"
            >

                <mat-radio-group [disabled]="isRoot === rootForm.yes"
                                 [(ngModel)]="newPermissions[permission.toLowerCase()]"
                >
                    <mat-radio-button
                        *ngFor="let typeOfPermission of getTypesOfPermission(permission)"
                        [value]="typeOfPermission"
                        class="radio-button"
                    >{{typeOfPermission}}</mat-radio-button>
                </mat-radio-group>

            </mat-grid-tile>

        </div>

    </mat-grid-list>

</div>

<div mat-dialog-actions>

    <button mat-button (click)="onNoClick()" class="annulla-button">Annulla</button>
    <button mat-button class="salva-button">Salva</button>

</div>
